<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Note Maker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100vh;
            background-color: #f4f4f4;
        }
        .container {
            display: flex;
            width: 100%;
        }
        .note-section, .note-list {
            padding: 20px;
            box-sizing: border-box;
        }
        .note-section {
            flex: 1;
            background-color: #fff;
            border-right: 1px solid #ccc;
            width: 66.66666667%;
        }
        .note-list {
            width: 33.33333333%;
            background-color: #fafafa;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            position: relative;
            padding: 10px;
            padding-right: 30px; /* extra padding for the delete icon */
            background-color: #fff;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        li span {
            display: inline-block;
            cursor: pointer;
            word-wrap: break-word;
            white-space: normal; 
            max-width: 98%; 
        }
        li:hover {
            background-color: #e9ecef;
        }
        .delete-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            fill: red;
            width: 20px;
            height: 20px;
        }
        .clear-all {
            background-color: #dc3545;
        }
        .clear-all:hover {
            background-color: #c82333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="note-section">
            <h1>Create Note</h1>
            <textarea id="note" placeholder="Write your notes here..."></textarea>
            <button onclick="saveNote()">Save Note</button>
            <button class="clear-all" onclick="clearAllNotes()">Clear All Notes</button>
        </div>
        <div class="note-list">
            <h1>Notes</h1>
            <ul id="notesList"></ul>
        </div>
    </div>
    <script>
        function saveNote() {
            const note = document.getElementById('note').value;
            if (note.trim() === '') {
                alert('Note cannot be empty.');
                return;
            }

            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            notes.push(note);
            localStorage.setItem('notes', JSON.stringify(notes));
            document.getElementById('note').value = '';
            displayNotes();
        }

        function displayNotes() {
            // Get notes from localStorage and reverse to show the latest note first
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            notes.reverse();

            const notesList = document.getElementById('notesList');

            notesList.innerHTML = '';
            notes.forEach((note, index) => {
                const li = document.createElement('li');

                // Create a span element to display the note text
                const noteText = document.createElement('span');
                noteText.innerHTML = note.replace(/\n/g, '<br>');  // Replace new line characters with <br> tag
                noteText.onclick = () => loadNote(note);

                const deleteIcon = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                deleteIcon.setAttribute("viewBox", "0 0 448 512");
                deleteIcon.classList.add('delete-icon');
                deleteIcon.innerHTML = '<path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/>';
                deleteIcon.onclick = () => deleteNote(index);

                li.appendChild(noteText);
                li.appendChild(deleteIcon);
                notesList.appendChild(li);
            });
        }

        function loadNote(note) {
            document.getElementById('note').value = note;
        }

        function deleteNote(displayedIndex) {
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            const originalIndex = notes.length - 1 - displayedIndex; // Reverse the index to get the original index
            notes.splice(originalIndex, 1);
            localStorage.setItem('notes', JSON.stringify(notes));
            displayNotes();
        }

        function clearAllNotes() {
            if (confirm('Are you sure you want to delete all notes?')) {
                localStorage.removeItem('notes');
                displayNotes();
            }
        }

        // Load notes on page load
        window.onload = function() {
            displayNotes();
        }
    </script>
</body>
</html>
